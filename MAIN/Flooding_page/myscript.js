var changePic = [
  /*
   */
  '../Picture/Flood/pic_1.svg',  '../Picture/Flood/pic_2.svg',
  '../Picture/Flood/pic_3.svg',  '../Picture/Flood/pic_4.svg',
  '../Picture/Flood/pic_5.svg',  '../Picture/Flood/pic_6.svg',
  '../Picture/Flood/pic_7.svg',  '../Picture/Flood/pic_8.svg',
  '../Picture/Flood/pic_9.svg',  '../Picture/Flood/pic_10.svg',
  '../Picture/Flood/pic_11.svg',  '../Picture/Flood/pic_12.svg',
  '../Picture/Flood/pic_13.svg',  '../Picture/Flood/pic_14.svg',
  '../Picture/Flood/pic_15.svg',  '../Picture/Flood/pic_16.svg',
  '../Picture/Flood/pic_17.svg',  '../Picture/Flood/pic_18.svg',
  '../Picture/Flood/pic_19.svg',  '../Picture/Flood/pic_20.svg',
  '../Picture/Flood/pic_21.svg',  '../Picture/Flood/pic_22.svg',  
  '../Picture/Flood/pic_23.svg',  '../Picture/Flood/pic_24.svg',  
  '../Picture/Flood/pic_25.svg',  '../Picture/Flood/pic_26.svg',  
  '../Picture/Flood/pic_27.svg',  '../Picture/Flood/pic_28.svg',  
  '../Picture/Flood/pic_29.svg',  '../Picture/Flood/pic_30.svg',  
  '../Picture/Flood/pic_31.svg',  '../Picture/Flood/pic_32.svg',  
  '../Picture/Flood/pic_33.svg',  '../Picture/Flood/pic_34.svg',  
  '../Picture/Flood/pic_35.svg',  '../Picture/Flood/pic_36.svg',  
  '../Picture/Flood/pic_37.svg',  '../Picture/Flood/pic_38.svg',  
  '../Picture/Flood/pic_39.svg',  '../Picture/Flood/pic_40.svg',  
  '../Picture/Flood/pic_41.svg',  '../Picture/Flood/pic_42.svg',  
  '../Picture/Flood/pic_43.svg',  '../Picture/Flood/pic_44.svg',  
  '../Picture/Flood/pic_45.svg',  '../Picture/Flood/pic_46.svg',  
  '../Picture/Flood/pic_47.svg',  '../Picture/Flood/pic_48.svg',  
  '../Picture/Flood/pic_49.svg',  '../Picture/Flood/pic_50.svg',  
  '../Picture/Flood/pic_51.svg',  '../Picture/Flood/pic_52.svg'
]

// Account_data.total;
// Account_data.total_target;
//document.getElementById("imageid").src="../template/save.png";
var history_ch = "<h2>消失的臺江內海</h2> <p>臺江內海位於臺南的西海岸邊，荷蘭時期開始作為貿易重地有許多船隻來往，相當地熱鬧。由於內海不方便大船航行，主要是使用舢板小船運送人與貨物（糖、米、菁等貿易商品）。</p> <p>清治時期由於曾文溪改道，臺江的淤積情形日漸嚴重，與外圍的沙洲連在一起成為陸地。早期尚可作為魚塭、鹽田使用，如今只剩下濕地（部分成了臺江國家公園），難以想像當年赤坎樓的前方既是海，與一鯤鯓的安平古堡遙遙相望。</p><h3>「海翁」一詞</h3> <p>清治時期的臺南府城的西邊外海有幾個細長的沙洲，由北到南是海翁汕、隙仔、北線尾、鯤鯓嶼。它們與臺灣本島連為線稱為「海翁堀線」。其中被環抱的海面既是臺江內海，也被稱為「海翁堀」。</p><p>被稱為海翁堀線的原因是沙洲的樣子看起來像鯨魚的背部；另一原因是以往有許多鯨魚棲息在臺江裡。「海翁」有鯨魚之意，「堀」則是「穴」或「匯集」的意思。從荷蘭時期的地圖也可以發現，當時臺江一帶被標記為「t Walvis Been」，原意是鯨魚骨頭，可證明以前臺江確實是被稱為海翁堀。</p><p>這款記錄喝水的app特以臺江內的別稱——鯨魚（海翁）為特點，在鼓勵每日多喝水之餘，也讓人們有機會了解臺江內海的前生今世。</p><h3>參考資料：</h3><p>1.  1.〈橋渡〉，《臺灣府輿圖纂要》收入《臺灣方志》，卷181，漢籍電子文獻資料庫。 <br>2.〈臺灣縣〉，《臺灣府輿圖纂要》收入《臺灣方志》，卷181，漢籍電子文獻資料庫。<br>3.〈臺灣縣山〉，《臺灣府志》收入《臺灣文獻叢刊》，卷2，漢籍電子文獻資料庫。<br> 4.Francois Valentijn, “Kaart van het Eyland Formosa en de Eylanden van Piscadores”, Geographicus, https://www.geographicus.com/P/AntiqueMap/TaiwanFormosa-valentijn-1726 (accessed May 28, 2018)<br>5.金子常光，〈臺南市觀光〉，聚珍·臺灣，https://www.gjtaiwan.com/p/2821</p>";
//var history_en = " Hello, I'm the History. <br> Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo. Nullam dictum felis eu pede mollis pretium. Integer tincidunt. Cras dapibus. Vivamus elementum semper nisi. Aenean vulputate eleifend tellus. Aenean leo ligula, porttitor eu, consequat vitae, eleifend ac, enim. Aliquam lorem ante, dapibus in, viverra quis, feugiat a, tellus. Phasellus viverra nulla ut metus varius laoreet. Quisque rutrum. Aenean imperdiet. Etiam ultricies nisi vel augue. Curabitur ullamcorper ultricies nisi. Nam eget dui. Etiam rhoncus. Maecenas tempus, tellus eget condimentum rhoncus, sem quam semper libero, sit amet adipiscing sem neque sed ipsum. Nam quam nunc, blandit vel, luctus pulvinar, hendrerit id, lorem. Maecenas nec odio et ante tincidunt tempus. Donec vitae sapien ut libero venenatis faucibus. Nullam quis ante. Etiam sit amet orci eget eros faucibus tincidunt. Duis leo. Sed fringilla mauris sit amet nibh. Donec sodales sagittis magna. Sed consequat, leo eget bibendum sodales, augue velit cursus nunc,";
var power = 0;


//---- Show History Information----//
$(document).on('touchend click', "#information_icon", function() {
    show();
});


$(document).ready(function(){
    
    $("#information_icon").click(function(){ 
        show();
    }) ;
    /*
    $(document).ready(function(){
      $(".contain").click(function(){
          this.remove() ;
      }) ;
    });
*/

}) ;


function show(  ) {
    
    var board = document.createElement("p") ;
    var contain = document.createElement("div") ;
    var cover = document.createElement("div") ;
    document.getElementById("tmp").appendChild(contain) ;
    contain.appendChild(board) ;
    contain.appendChild(cover) ;
    board.classList.add("board") ;
    contain.classList.add("contain") ;
    cover.classList.add("cover1") ;
    
    board.innerHTML = history_ch ;  //if no "sel" will show intro of everyone
    /*
    $(document).on('touchend click', ".contain", function() {
        this.remove() ;
    });
    
    */
    //setTimeout(function(){}, 1000);
  
    $(document).ready(function(){
        $(".contain").click(function(){
            this.remove() ;
        }) ;
    });
  
}

//--- set for the page
$(document).ready( () => {
    var total = Account_data.total;
    var target = Account_data.total_target;
    //var total = 12620000;
    //var target = 200000000;
    power = 0;
    findPower(total);

    var percentage = Math.floor( (total/target) * 51  );
    document.getElementById("present").src=changePic[ percentage ];
    document.getElementById("show_total").innerHTML = `${ (total/( Math.pow(10, power) ) ).toFixed(1) }&times10<sup>${power}</sup> L`;

});

function findPower (num) {
  if (num >= 10) {
    power++;
    findPower(num/10);
  }
}







/*---------- Canvas test code -------------//
var c=document.getElementById("myCanvas");
var cxt=c.getContext("2d");
var pointNum =1024;

/*
var getPixelRatio = function(context) {
  var backingStore = context.backingStorePixelRatio ||
    context.webkitBackingStorePixelRatio ||
    context.mozBackingStorePixelRatio ||
    context.msBackingStorePixelRatio ||
    context.oBackingStorePixelRatio ||
    context.backingStorePixelRatio || 1;
   return (window.devicePixelRatio || 1) / backingStore;
};

//调用
var ratio = getPixelRatio(cxt);

newmap = new Image();
newmap.src="https://i.imgur.com/SYv9Mtt.jpg";
 
cxt.moveTo(0, 0);
for (var i = 0; i < 2048; i++) {
  var tmp = func(i);
  cxt.lineTo(i, tmp);
}

cxt.lineTo(1400, 1400);
cxt.lineTo(1400, 0);
cxt.closePath();
cxt.clip();
//cxt.fillStyle="#FF0000";
//cxt.fillRect(0,0,1400,1400);
cxt.drawImage(newmap,0,0, 1400, 1400)
function func(i) {
  return -6*0.0001*Math.pow(i, 2)+ 1.838*Math.pow(i, 1);
}

*/













